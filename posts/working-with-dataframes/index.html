<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Working with DataFrames · Home
</title>

  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Danielle Louie">
<meta name="description" content="A beginner&#39;s guide to working with dataframes and commonly used functions.">
<meta name="keywords" content="blog,developer,personal">
<meta name="fediverse:creator" content="" />


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Working with DataFrames">
  <meta name="twitter:description" content="A beginner&#39;s guide to working with dataframes and commonly used functions.">

<meta property="og:url" content="https://danilouie.github.io/posts/working-with-dataframes/">
  <meta property="og:site_name" content="Home">
  <meta property="og:title" content="Working with DataFrames">
  <meta property="og:description" content="A beginner&#39;s guide to working with dataframes and commonly used functions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-16T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-09-16T00:00:00+00:00">
    <meta property="article:tag" content="Pandas">
    <meta property="article:tag" content="DataFrames">
      <meta property="og:see_also" content="https://danilouie.github.io/posts/code-documentation/">
      <meta property="og:see_also" content="https://danilouie.github.io/posts/interactive-viz-cb/">




<link rel="canonical" href="https://danilouie.github.io/posts/working-with-dataframes/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.097fb2f9a01626eadc041c0dd157cac4ff729428b002bae811fb7a901229edf1.css" integrity="sha256-CX&#43;y&#43;aAWJurcBBwN0VfKxP9ylCiwArroEft6kBIp7fE=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.bc03a975d4b871a4d182340cea6e28a6dc4767bcdff52318cc7616095c739163.css" integrity="sha256-vAOpddS4caTRgjQM6m4optxHZ7zf9SMYzHYWCVxzkWM=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>

 

 



<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://danilouie.github.io/">
      Home
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Tutorials</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact/CV</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://danilouie.github.io/posts/working-with-dataframes/">
              Working with DataFrames
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-09-16T00:00:00Z">
                September 16, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              13-minute read
            </span>
          </div>
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/danielle-louie/">Danielle Louie</a></div>

          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/tutorial/">Tutorial</a>
      <span class="separator">•</span>
    <a href="/categories/python/">Python</a>
      <span class="separator">•</span>
    <a href="/categories/coding/">Coding</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/pandas/">Pandas</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/dataframes/">DataFrames</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <hr>
<h2 id="outline">
  Outline
  <a class="heading-link" href="#outline">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ol>
<li><a href="#introduction" >Introduction</a></li>
<li><a href="#read-df" >Reading a Dataframe</a></li>
<li><a href="#view" >Viewing Elements</a>
<ul>
<li><a href="#head-tail" >Head and Tail</a></li>
<li><a href="#iloc-loc" >iloc and loc</a></li>
<li><a href="#data-type" >Data Types</a></li>
</ul>
</li>
<li><a href="#col" >Columns</a>
<ul>
<li><a href="#create-col" >Creating Columns</a></li>
<li><a href="#drop-col" >Dropping Columns</a></li>
<li><a href="#call-col" >Calling Columns</a></li>
</ul>
</li>
<li><a href="#group" >Grouping Data</a></li>
<li><a href="#arithmetics" >Arithmetics</a>
<ul>
<li><a href="#math" >Simple Math</a></li>
<li><a href="#inequalities" >Inequalities</a></li>
<li><a href="#math-func" >Math Functions (And More)</a></li>
</ul>
</li>
<li><a href="#conclusion" >Conclusion</a></li>
</ol>
<hr>
<h1 id="introduction">
  Introduction
  <a class="heading-link" href="#introduction">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Dataframes, data structures that are very similar to tables, are key elements in data science. They are extremely useful for organizing information, and many instances of data science use dataframes to clean and organize data, manipulate tabular data, and even to produce visualizations. The following tutorial aims to provide a basic overview of useful functions when working with dataframes.</p>
<p>It is completely normal to be googling functions and their usage, no matter what fluency you have in coding! There are so many methods towards the same solutions, so it is good practice to continously learn about all the coding possibilities, and then determining which ones you like best. I write this tutorial in hopes that I can compile some of the most common practices in one page and aid you in improving your coding efficiency! I will also link useful webpages if you are interested in learning more about any of the topics covered.</p>
<p><em><strong><u>Notice</u></strong></em>
Before following this tutorial, make sure you have Python and a source code editor (such as VSCode or Atom) installed. If you do not have Python, you can look <a href="https://www.python.org/downloads/" target="_blank" rel="noopener noreferrer">here</a> for installation instructions.</p>
<h1 id="read-df">
  Reading a Dataframe
  <a class="heading-link" href="#read-df">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Let&rsquo;s start our code by importing important <strong>libraries</strong>. Libraries contain prewritten code that serve as tools for tasks that coders often have to reuse. The one that we need to import will be <strong>pandas</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span></code></pre></div><p>Now, let&rsquo;s <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html" target="_blank" rel="noopener noreferrer">create a dataframe</a>. There are many ways to create a dataframe, as shown by the link above. However, arguably, many dataframes that you will be working with in class or in a job will be imported (usually as a .csv file); this is because dataframes are meant for working with large amounts of data, and coding a dataframe from scratch would be too tedious.</p>
<p>For this tutorial, I have created a <a href="https://github.com/danilouie/blog/blob/main/files/minecraft_wood.csv" target="_blank" rel="noopener noreferrer">downloadedable dataframe</a> for you to practice with! However, feel free to practice coding a simple dataframe if you want to try!</p>
<p>To open up the csv file as a dataframe in your source code editor, type:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># df is the variable we are assigning the dataframe to in this example</span>
</span></span><span class="line"><span class="cl"><span class="c1"># File path tells your computer where the csv is stored. </span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&#34;FIlE PATH TO CSV&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># An example of how the filepath may look like</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&#34;/Users/daniellelouie/Documents/minecraft_wood_.csv&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Print out the a view of the dataframe</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span>
</span></span></code></pre></div><p>Make sure you change the filepath to wherever you stored the dataframe. For Mac users, an easy way to get your file path is to first locate it in your computer, right click on the document, press the &ldquo;option&rdquo; key, and click the option &ldquo;Copy ___ as Pathname&rdquo;. If you are using Windows, you can click on the bar that may show something like &ldquo;This PC &gt; Documents&hellip;&rdquo;, and then copy the filepath revealed.</p>
<h1 id="view">
  Viewing Elements
  <a class="heading-link" href="#view">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>As you may have noticed, there are a lot of rows in this dataframe, and simply typing out &ldquo;df&rdquo; only shows the first several and last several rows. The &ldquo;&hellip;&rdquo; indicates that there are rows not visible.</p>
<p><img src="/images/dataframe_tutorial/minecraft_block_df.png" alt="minecraft wood raw"></p>
<p>You can see the total number of rows and columns at the bottom of the dataframe. In this case, we have 61 rows and 2 columns.</p>
<h6 id="head-tail">
  Head and Tail
  <a class="heading-link" href="#head-tail">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h6>
<p>The function <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.head.html" target="_blank" rel="noopener noreferrer">head</a> shows us the first 5 rows by default.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</span></span></code></pre></div><p>On the other hand, the function <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.tail.html" target="_blank" rel="noopener noreferrer">tail</a> shows us the last 5 rows by default.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</span></span></code></pre></div><p>If we wanted to specify how many rows we wanted to see for either function, we just have to input the number of rows we want to see as an argument. For instance, let&rsquo;s say that we want to see the first 10 rows of the dataframe:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span></span></code></pre></div><p>Or, if we want to see the last 15 rows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</span></span></code></pre></div><h6 id="iloc-loc">
  iloc and loc
  <a class="heading-link" href="#iloc-loc">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h6>
<p>We can also use the functions <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.iloc.html" target="_blank" rel="noopener noreferrer">iloc</a> and <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.loc.html" target="_blank" rel="noopener noreferrer">loc</a> to extract information from dataframes. These functions return the information we want as a <strong>Series</strong>, which is a one-dimensional array of data.</p>
<p>The function <strong>iloc()</strong> uses numerical indices to identify the row and column of the data we want to call. Let&rsquo;s see some examples.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Print out the 1st row of the dataframe as a Series</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Remember that the indices starts from 0!</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Print out the 37th row of the dataframe as a Series</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">36</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Print out the item in the 7th row and 1st column </span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Print out the item in the 28th row and 2nd column </span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</span></span></code></pre></div><p>We can <em>splice</em> data by specifying the row and column indices we want. Splicing can return either a dataframe or a series.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Return up to (not including) the 8th row of the dataframe -&gt; returns a dataframe</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Return up to (not including) the 8th row in the first column -&gt; returns a series</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Return up to (not including) the 2nd column of the dataframe -&gt; returns a dataframe</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Return all rows in the first column -&gt; returns a series</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
</span></span></code></pre></div><p>We can also generate the same outcomes using <strong>loc()</strong>. The main difference is the <strong>loc</strong> uses the names of columns as an argument instead of their indices; it still uses indices for rows. Let&rsquo;s see how we would write the code above using <strong>loc</strong> instead.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Print out the 1st row of the dataframe as a Series</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Print out the 37th row of the dataframe as a Series</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">36</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Print out the item in the 7th row and 1st column </span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;Name&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Print out the item in the 28th row and 2nd column</span>
</span></span></code></pre></div><p>We can also splice data with <strong>loc</strong>!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Return up to (not including) the 8th row of the dataframe -&gt; returns a dataframe</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Return up to (not including) the 8th row in the first column -&gt; returns a series</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;Name&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Return up to (not including) the 2nd column of the dataframe -&gt; returns a dataframe</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Return all rows in the first column -&gt; returns a series</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="s1">&#39;Name&#39;</span><span class="p">]</span>
</span></span></code></pre></div><p>Ultimately, it comes down to personal preference for which one you want to use. Sometimes, it may be more intuitive to use indices, while other times, we may remember the column names better - there is no right or wrong choice!</p>
<h6 id="data-type">
  Data Types
  <a class="heading-link" href="#data-type">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h6>
<p>Dataframes can contain many different <a href="https://www.geeksforgeeks.org/python-data-types/" target="_blank" rel="noopener noreferrer">data types</a> such as <strong>strings</strong>, <strong>integers</strong>,  <strong>floats</strong> or <strong>booleans</strong>. In short, <strong>strings</strong> are sequences of characters, like a word, phrase, or sentence; <strong>integers</strong> are numbers without decimal points; <strong>floats</strong> are numbers with decimal points; <strong>booleans</strong> are binary depictions of True or False values, usually depicted with 1 (True) and 0 (False).</p>
<p>To see what kind of data type our dataframe contains, we can use a function called <strong>type()</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Determine the type of data in the first column by extracting one object</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span></span></code></pre></div><p>Running the above code should result in an output &ldquo;str&rdquo;, which indicates that the datatype we observed is a string! Since our dataframe does not contain any other datatypes, let&rsquo;s practice using this function with simple data.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># The following code should print out &#34;int&#34; for &#34;integer&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># The following code should print out &#34;float&#34; </span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span><span class="p">(</span><span class="mf">3.14</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># The following code should print out &#34;bool&#34; for &#34;boolean&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span></span></code></pre></div><h1 id="col">
  Columns
  <a class="heading-link" href="#col">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Many times, we want to manipulate the columns in dataframe to organize our data. Some examples can involve adding columns of new, important information, or deleting columns to rid unnecessary data.</p>
<h6 id="create-col">
  Creating Columns
  <a class="heading-link" href="#create-col">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h6>
<p>Let&rsquo;s take a look at our data table again. That&rsquo;s quite a lot of different types of wooden minecraft blocks! What if we want to look at the specific type of wood that each block is made of?</p>
<p>We can <a href="https://www.geeksforgeeks.org/adding-new-column-to-existing-dataframe-in-pandas/" target="_blank" rel="noopener noreferrer">create a new column</a> in the dataframe that extracts the our wanted data (the specific type of wood) from the first column. By observing our data, we notice that the material used for the minecraft block is the first word in our string. Since the datatype is a string, we can use <a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.str.html" target="_blank" rel="noopener noreferrer">.str functions</a> to manipulate the data.</p>
<p>Since we want only the first word of each block name, we want to find someway to split the data first. We can use the function <strong>str.split()</strong>. The function takes in an argument, which specifies what we are splitting the string by (a space, a period, a letter).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Try playing around with the function. What happens for each line?</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&#34;a&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>You may have observed that we want to split our string by a space, which is indicated by the last example above. This should split the data into something that looks like the image below.</p>
<p><img src="/images/dataframe_tutorial/strip.png" alt="stripped data"></p>
<p>How can we extract the first string? We can index into the first string with the following code:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span></code></pre></div><p>Running the code above produces a series of our extracted data! Our final step is to add this series of data into a newly created column. To do that, we we can assign the code above into a newly created column, which we will call &ldquo;Material&rdquo;.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Material&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span>
</span></span></code></pre></div><p>When we run <strong>df</strong> now, we can see that there is a new column with all the data we just extracted. Since we have defined <strong>df</strong> to have this new column, it will continue to remain unless we write a code to remove it permanently.</p>
<h6 id="drop-col">
  Dropping Columns
  <a class="heading-link" href="#drop-col">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h6>
<p>Let&rsquo;s add a filler column to practice what we just learned first.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Assign all rows a value of 1 in the column &#34;Dummy&#34;.</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Dummy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span></code></pre></div><p>Great! Now we have an example of a column that contains unnecessary data for our purpose. Looking at our dataframe, the column &ldquo;Dummy&rdquo; does not provide data that presents information we can draw conclusions from. So let&rsquo;s get rid of it!</p>
<p>We can remove columns from our dataframe using the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.drop.html" target="_blank" rel="noopener noreferrer">drop()</a> function. Try the code below to see the dataframe generated.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&#34;Dummy&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>The dataframe we just saw doesn&rsquo;t show the &ldquo;Dummy&rdquo; column anymore right? But if we run <strong>df</strong> again&hellip;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span>
</span></span></code></pre></div><p>&hellip; we still see the &ldquo;Dummy&rdquo; column. Why?</p>
<p>That is because when we dropped the column, we didn&rsquo;t assign it back into the original dataframe variable, df. Just like how we had to assign a newly created column to df, we have to do the same if we want to permanently drop a column. Let&rsquo;s code that out.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&#34;Dummy&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span>
</span></span></code></pre></div><p>Now, when we run df, we see that the column &ldquo;Dummy&rdquo; has been completely removed from our dataframe.</p>
<h6 id="call-col">
  Calling Columns
  <a class="heading-link" href="#call-col">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h6>
<p>Here are some techniques to return columns in a couple of different way.</p>
<p>Remember how we were able to use <strong>iloc</strong> and <strong>loc</strong> to call a column as a series? We can also perform the same task by writing:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Returns a series</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span>
</span></span></code></pre></div><p>If we simply want to view a column as a dataframe instead of a series, we add another pair of brackets like so:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Returns a dataframe</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Name&#39;</span><span class="p">]]</span>
</span></span></code></pre></div><p>We can also call multiple columns in a dataframe:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Returns a dataframe</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Material&#39;</span><span class="p">]]</span>
</span></span></code></pre></div><p>The rule above does not apply for series; remember, series are one-dimensional, and calling multiple columns would result in an error.</p>
<h1 id="group">
  Grouping Data
  <a class="heading-link" href="#group">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Sometimes, we want to be able to see the counts of data that belong to the same group. In this case, let&rsquo;s analyze how many different types of blocks are in each material type.</p>
<p>We can use the function <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html" target="_blank" rel="noopener noreferrer">groupby()</a> to &ldquo;group&rdquo; our data by material type. We would want to input the column name that we want to groupby as the argument, which in this case, would be &ldquo;Material&rdquo;. Let&rsquo;s also assign this grouped dataframe into a new variable called &ldquo;df_material&rdquo;.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># We want to group the data by count</span>
</span></span><span class="line"><span class="cl"><span class="n">df_material</span> <span class="o">=</span> <span class="n">df_material</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Material&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl"><span class="n">df_material</span>
</span></span></code></pre></div><p>The code should produce a dataframe that looks like the one below.</p>
<p><img src="/images/dataframe_tutorial/grouped.png" alt="grouped dataframe"></p>
<p>As you can see, all the columns are now replaced by integers, which represent the count of each block type. Let&rsquo;s <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.rename.html" target="_blank" rel="noopener noreferrer">rename</a> one of our columns to &ldquo;Count&rdquo; (it doesn&rsquo;t matter which one), and drop all the other ones. Feel free to follow my code exactly, or you can try it on your own!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df_material</span> <span class="o">=</span> <span class="n">df_material</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&#34;Name&#34;</span> <span class="p">:</span> <span class="s2">&#34;Count&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="c1"># axis=1 specifies that we are dropping columns</span>
</span></span><span class="line"><span class="cl"><span class="n">df_material</span> <span class="o">=</span> <span class="n">df_material</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Type&#39;</span><span class="p">,</span><span class="s1">&#39;Dummy&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df_material</span>
</span></span></code></pre></div><p>The dataframe printed should look like the one below.</p>
<p><img src="/images/dataframe_tutorial/cleaned_count.png" alt="cleaned data"></p>
<h1 id="arithmetics">
  Arithmetics
  <a class="heading-link" href="#arithmetics">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Another way we can manipulate dataframe data is through mathematical procedures. In fact, it is very common to have to create new data (and often new columns) by using the raw data that was previously provided. Below describes</p>
<h6 id="math">
  Simple Math
  <a class="heading-link" href="#math">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h6>
<p>We can also carry out mathematical procedures with the data in dataframes!</p>
<p>For instance, if we wanted to manipulate our counts in <strong>df_material</strong>, we can use the basic mathematical functions we know like below.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Try out each of these lines separately to see what happens! </span>
</span></span><span class="line"><span class="cl"><span class="n">ddf_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">5</span>
</span></span></code></pre></div><p>Let&rsquo;s create a new column to store our calculated values.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Add 5&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span>
</span></span></code></pre></div><p>We can even carry out mathematical procedures among multiple columns in our dataframe! Call <strong>df_material</strong> to see the new columns.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Sum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Add 5&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">df_material</span>
</span></span></code></pre></div><h6 id="inequalities">
  Inequalities
  <a class="heading-link" href="#inequalities">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h6>
<p>What about inequalities and equalities? Checking inequalities and equalities result in dataframes that only contain the rows that hold true for the mathematical statements; this means that it is possible for an empty dataframe to be returned. Inequality and equality statements also work for strings</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># We can check for lesser and greater than</span>
</span></span><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># We can also check for &#34;at most&#34; and &#34;at least&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># To check equality, we need to use two equal signs</span>
</span></span><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Material&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Acacia&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># The following code is checking for what is NOT equal to &#39;Mangrove&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Material&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;Mangrove&#39;</span><span class="p">]</span>
</span></span></code></pre></div><h6 id="math">
  Math Functions (And More)
  <a class="heading-link" href="#math">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h6>
<p>There are also some libraries that contain useful mathematical functions for us to use, such as pandas. The functions help us to quickly calculate data without having to write out every mathematical procedure out. Let&rsquo;s take a look at some useful ones in the code below.</p>
<p>While calculating sums, mean, and median are relatively easy, they can be repetitive and tedious. Thankfully, pandas has functions that we can use.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Calculate the sum</span>
</span></span><span class="line"><span class="cl"><span class="nb">sum</span><span class="p">(</span><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Calculate the average</span>
</span></span><span class="line"><span class="cl"><span class="n">df_material</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Find the median</span>
</span></span><span class="line"><span class="cl"><span class="n">df_median</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
</span></span></code></pre></div><p>We can also see how much <a href="https://pandas.pydata.org/docs/reference/api/pandas.unique.html" target="_blank" rel="noopener noreferrer">unique</a> data we have by using the function <strong>unique()</strong>. Let&rsquo;s use our original dataframe <strong>df</strong> to see what are the unique types of materials for these blocks.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Material&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</span></span></code></pre></div><p>Notice how the materials are returned in an array? Calling unique tells us what the unique data are, not how many there are. To see how many there are, we can use the <strong>len()</strong> function.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Material&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</span></span></code></pre></div><p>This <a href="https://www.geeksforgeeks.org/pandas-functions-in-python/" target="_blank" rel="noopener noreferrer">link</a> provides an extensive list of useful functions (not just mathematical ones) that are commonly used.</p>
<h1 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>This concludes the first tutorial of working with dataframes. Hopefully, this has provided you with an insight into all the possibilities of working with a dataframe, as well as built your comfortability in exploring beyond what this tutorial has covered. Remember, the best way to familiarize yourself with working with dataframes (and coding in general) is to continuously use it. Be patient with yourself and try everything!</p>
<hr>

      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
      <h3 id="see-also-in-tutorials">
        See also in Tutorials
        <a class="heading-link" href="#see-also-in-tutorials">
          <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
          <span class="sr-only">Link to heading</span>
        </a>
      </h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="/posts/code-documentation/">Code Documentation</a>
            </li>
          
        
          
        
          
            <li>
              <a href="/posts/interactive-viz-cb/">Interactive Visualizations: Checkboxes</a>
            </li>
          
        
        </ul>
      </nav>
    
  
    
    
    
  
</section>


        
        
        
        
        

        
        

        <div class="navigation-links">
          <div class="prev-post">
            
            
              <a href="https://danilouie.github.io/posts/data-sov-terms/">Previous: Data Sovereignty Terminology</a>
            
          </div>
          <div class="next-post">
            
            
              <a href="https://danilouie.github.io/posts/code-documentation/">Next: Code Documentation</a>
            
          </div>
        </div>
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2024 -
    
    2025
     Danielle Louie 
    
    
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
